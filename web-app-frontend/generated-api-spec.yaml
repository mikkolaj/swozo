openapi: 3.0.1
info:
  title: OpenAPI definition
  version: v0
servers:
- url: http://localhost:5000
  description: Generated server url
paths:
  /users/roles/{userId}:
    put:
      tags:
      - user-controller
      operationId: setUserRoles
      parameters:
      - name: userId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      requestBody:
        content:
          application/json:
            schema:
              type: array
              items:
                type: string
                enum:
                - STUDENT
                - TEACHER
                - TECHNICAL_TEACHER
                - ADMIN
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/UserAdminDetailsDto'
      security:
      - JWT_AUTH: []
  /service-modules:
    put:
      tags:
      - service-module-controller
      operationId: finishServiceModuleCreation
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FinishServiceModuleCreationRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ServiceModuleDetailsDto'
      security:
      - JWT_AUTH: []
    post:
      tags:
      - service-module-controller
      operationId: initServiceModuleCreation
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReserveServiceModuleRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ServiceModuleReservationDto'
      security:
      - JWT_AUTH: []
  /service-modules/{serviceModuleId}/edit/service-config/init:
    put:
      tags:
      - service-module-controller
      operationId: initServiceConfigUpdate
      parameters:
      - name: serviceModuleId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReserveServiceModuleRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: object
                additionalProperties:
                  type: object
      security:
      - JWT_AUTH: []
  /service-modules/{serviceModuleId}/edit/service-config/finish:
    put:
      tags:
      - service-module-controller
      operationId: finishServiceConfigUpdate
      parameters:
      - name: serviceModuleId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/FinishServiceModuleCreationRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ServiceModuleDetailsDto'
      security:
      - JWT_AUTH: []
  /service-modules/{serviceModuleId}/edit/common:
    put:
      tags:
      - service-module-controller
      operationId: updateCommonData
      parameters:
      - name: serviceModuleId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ReserveServiceModuleRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ServiceModuleDetailsDto'
      security:
      - JWT_AUTH: []
  /courses/{id}/activities:
    put:
      tags:
      - course-controller
      operationId: addSingleActivity
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
          format: int64
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateActivityRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/CourseDetailsDto'
      security:
      - JWT_AUTH: []
  /courses/{courseId}/students:
    put:
      tags:
      - course-controller
      operationId: addStudentToCourse
      parameters:
      - name: courseId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ModifyParticipantRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/CourseDetailsDto'
      security:
      - JWT_AUTH: []
    delete:
      tags:
      - course-controller
      operationId: removeStudentFromCourse
      parameters:
      - name: courseId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ModifyParticipantRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/CourseDetailsDto'
      security:
      - JWT_AUTH: []
  /courses/join:
    put:
      tags:
      - course-controller
      operationId: joinCourse
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/JoinCourseRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/CourseDetailsDto'
      security:
      - JWT_AUTH: []
  /auth/reset-password:
    put:
      tags:
      - auth-controller
      operationId: resetPassword
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ResetPasswordRequest'
        required: true
      responses:
        "200":
          description: OK
    post:
      tags:
      - auth-controller
      operationId: sendResetPasswordEmail
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SendResetPasswordEmailRequest'
        required: true
      responses:
        "200":
          description: OK
  /activities/{activityId}/files/public:
    put:
      tags:
      - activity-controller
      operationId: ackPublicActivityFileUpload
      parameters:
      - name: activityId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UploadAccessDto'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ActivityDetailsDto'
      security:
      - JWT_AUTH: []
    post:
      tags:
      - activity-controller
      operationId: preparePublicActivityFileUpload
      parameters:
      - name: activityId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/InitFileUploadRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/StorageAccessRequest'
      security:
      - JWT_AUTH: []
  /activities/confirm-link-delivery/{activityModuleId}:
    put:
      tags:
      - activity-controller
      operationId: confirmLinkCanBeDeliveredToStudents
      parameters:
      - name: activityModuleId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        "200":
          description: OK
      security:
      - JWT_AUTH: []
  /vms:
    post:
      tags:
      - vm-controller
      operationId: addVm
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateVmRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/VmDto'
      security:
      - JWT_AUTH: []
  /users:
    get:
      tags:
      - user-controller
      operationId: getUsers
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/UserAdminSummaryDto'
      security:
      - JWT_AUTH: []
    post:
      tags:
      - user-controller
      operationId: createUser
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateUserRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/UserAdminDetailsDto'
      security:
      - JWT_AUTH: []
  /users/me/logout:
    post:
      tags:
      - user-controller
      operationId: logout
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RefreshTokenDto'
        required: true
      responses:
        "200":
          description: OK
      security:
      - JWT_AUTH: []
  /users/favourite/{activityId}/files/{remoteFileId}:
    post:
      tags:
      - user-controller
      operationId: setFileAsFavourite
      parameters:
      - name: activityId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      - name: remoteFileId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/MeDto'
      security:
      - JWT_AUTH: []
  /sandbox/{serviceModuleId}:
    post:
      tags:
      - sandbox-controller
      operationId: createServiceModuleTestingEnvironment
      parameters:
      - name: serviceModuleId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateSandboxEnvironmentRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ServiceModuleSandboxDto'
      security:
      - JWT_AUTH: []
  /policies:
    post:
      tags:
      - policy-controller
      operationId: addPolicy
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreatePolicyRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/PolicyDto'
      security:
      - JWT_AUTH: []
  /policies/{userId}/overwrite:
    post:
      tags:
      - policy-controller
      operationId: overwriteAllTeacherPolicies
      parameters:
      - name: userId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      requestBody:
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '#/components/schemas/CreatePolicyRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/PolicyDto'
      security:
      - JWT_AUTH: []
  /courses:
    get:
      tags:
      - course-controller
      operationId: getUserCourses
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CourseDetailsDto'
      security:
      - JWT_AUTH: []
    post:
      tags:
      - course-controller
      operationId: addCourse
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateCourseRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/CourseDetailsDto'
      security:
      - JWT_AUTH: []
  /auth/refresh:
    post:
      tags:
      - auth-controller
      operationId: refreshAccessToken
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RefreshTokenDto'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/AuthDetailsDto'
  /auth/login:
    post:
      tags:
      - auth-controller
      operationId: login
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoginRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/AuthDetailsDto'
  /activities/{activityId}/cancel:
    post:
      tags:
      - activity-controller
      operationId: cancelActivity
      parameters:
      - name: activityId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ActivityDetailsDto'
      security:
      - JWT_AUTH: []
  /vms/{id}:
    delete:
      tags:
      - vm-controller
      operationId: deleteVm
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        "200":
          description: OK
      security:
      - JWT_AUTH: []
    patch:
      tags:
      - vm-controller
      operationId: editVm
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
          format: int64
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EdtiVmRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/VmDto'
      security:
      - JWT_AUTH: []
  /policies/{id}:
    delete:
      tags:
      - policy-controller
      operationId: deletePolicy
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        "200":
          description: OK
      security:
      - JWT_AUTH: []
    patch:
      tags:
      - policy-controller
      operationId: editPolicy
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
          format: int64
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EditPolicyRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/PolicyDto'
      security:
      - JWT_AUTH: []
  /courses/{id}:
    get:
      tags:
      - course-controller
      operationId: getCourse
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/CourseDetailsDto'
      security:
      - JWT_AUTH: []
    delete:
      tags:
      - course-controller
      operationId: deleteCourse
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        "200":
          description: OK
      security:
      - JWT_AUTH: []
    patch:
      tags:
      - course-controller
      operationId: editCourse
      parameters:
      - name: id
        in: path
        required: true
        schema:
          type: integer
          format: int64
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EditCourseRequest'
        required: true
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/CourseDetailsDto'
      security:
      - JWT_AUTH: []
  /vms/all-system-vms:
    get:
      tags:
      - vm-controller
      operationId: getAllVms
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/VmDto'
      security:
      - JWT_AUTH: []
  /users/me:
    get:
      tags:
      - user-controller
      operationId: getUserInfo
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/MeDto'
      security:
      - JWT_AUTH: []
  /users/favourite/{remoteFileId}:
    get:
      tags:
      - user-controller
      operationId: getFavouriteFileDownloadRequest
      parameters:
      - name: remoteFileId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/StorageAccessRequest'
      security:
      - JWT_AUTH: []
    delete:
      tags:
      - user-controller
      operationId: unsetFileAsFavourite
      parameters:
      - name: remoteFileId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/MeDto'
      security:
      - JWT_AUTH: []
  /users/details/{userId}:
    get:
      tags:
      - user-controller
      operationId: getUserDetailsForAdmin
      parameters:
      - name: userId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/UserAdminDetailsDto'
      security:
      - JWT_AUTH: []
  /users/admins:
    get:
      tags:
      - user-controller
      operationId: getSystemAdmins
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/UserDetailsDto'
      security:
      - JWT_AUTH: []
  /service-modules/{serviceModuleId}:
    get:
      tags:
      - service-module-controller
      operationId: getServiceModule
      parameters:
      - name: serviceModuleId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ServiceModuleDetailsDto'
      security:
      - JWT_AUTH: []
    delete:
      tags:
      - service-module-controller
      operationId: deleteServiceModule
      parameters:
      - name: serviceModuleId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ServiceModuleDetailsDto'
      security:
      - JWT_AUTH: []
  /service-modules/{serviceModuleId}/summary:
    get:
      tags:
      - service-module-controller
      operationId: getServiceModuleSummary
      parameters:
      - name: serviceModuleId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ServiceModuleSummaryDto'
      security:
      - JWT_AUTH: []
  /service-modules/{serviceModuleId}/edit:
    get:
      tags:
      - service-module-controller
      operationId: getFormDataForEdit
      parameters:
      - name: serviceModuleId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ReserveServiceModuleRequest'
      security:
      - JWT_AUTH: []
  /service-modules/user/summary:
    get:
      tags:
      - service-module-controller
      operationId: getUserModulesSummary
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ServiceModuleSummaryDto'
      security:
      - JWT_AUTH: []
  /service-modules/usage/{serviceModuleId}:
    get:
      tags:
      - service-module-controller
      operationId: getUsage
      parameters:
      - name: serviceModuleId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      - name: offset
        in: query
        required: false
        schema:
          type: integer
          format: int64
          default: 0
      - name: limit
        in: query
        required: false
        schema:
          type: integer
          format: int64
          default: 100
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ServiceModuleUsageDto'
      security:
      - JWT_AUTH: []
  /service-modules/summary:
    get:
      tags:
      - service-module-controller
      operationId: getAllPublicServiceModules
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ServiceModuleSummaryDto'
      security:
      - JWT_AUTH: []
  /service-modules/config:
    get:
      tags:
      - service-module-controller
      operationId: getSupportedServices
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ServiceConfig'
      security:
      - JWT_AUTH: []
  /policies/all_teacher-policies/{teacherId}:
    get:
      tags:
      - policy-controller
      operationId: getAllTeacherPolicies
      parameters:
      - name: teacherId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/PolicyDto'
      security:
      - JWT_AUTH: []
  /policies/all-system-policies:
    get:
      tags:
      - policy-controller
      operationId: getAllPolicies
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/PolicyDto'
      security:
      - JWT_AUTH: []
  /files/external/download/{remoteFileId}:
    get:
      tags:
      - file-controller
      operationId: getDownloadSignedAccessRequestExternal
      parameters:
      - name: remoteFileId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/StorageAccessRequest'
      security:
      - JWT_AUTH: []
  /courses/summary:
    get:
      tags:
      - course-controller
      operationId: getPublicCourses
      parameters:
      - name: offset
        in: query
        required: false
        schema:
          type: integer
          format: int64
          default: 0
      - name: limit
        in: query
        required: false
        schema:
          type: integer
          format: int64
          default: 100
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CourseSummaryDto'
      security:
      - JWT_AUTH: []
  /courses/summary/{uuid}:
    get:
      tags:
      - course-controller
      operationId: getPublicCourseData
      parameters:
      - name: uuid
        in: path
        required: true
        schema:
          type: string
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/CourseSummaryDto'
      security:
      - JWT_AUTH: []
  /activities:
    get:
      tags:
      - activity-controller
      operationId: getUserActivities
      parameters:
      - name: daysInThePast
        in: query
        required: false
        schema:
          type: integer
          format: int32
          default: 31
      - name: daysInTheFuture
        in: query
        required: false
        schema:
          type: integer
          format: int32
          default: 31
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ActivitySummaryDto'
      security:
      - JWT_AUTH: []
  /activities/{activityId}/files/results/teacher:
    get:
      tags:
      - activity-controller
      operationId: getActivityResultFilesForAllStudents
      parameters:
      - name: activityId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/TeacherActivityFilesDto'
      security:
      - JWT_AUTH: []
  /activities/{activityId}/files/results/student:
    get:
      tags:
      - activity-controller
      operationId: getActivityResultFilesForUser
      parameters:
      - name: activityId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/ActivityFilesDto'
      security:
      - JWT_AUTH: []
  /activities/{activityId}/files/results/download/{fileId}:
    get:
      tags:
      - activity-controller
      operationId: getActivityResultFileDownloadRequest
      parameters:
      - name: activityId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      - name: fileId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/StorageAccessRequest'
      security:
      - JWT_AUTH: []
  /activities/{activityId}/files/public/download/{fileId}:
    get:
      tags:
      - activity-controller
      operationId: getPublicActivityFileDownloadRequest
      parameters:
      - name: activityId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      - name: fileId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/StorageAccessRequest'
      security:
      - JWT_AUTH: []
  /activities/not-cancelled:
    get:
      tags:
      - activity-controller
      operationId: getAllNotCancelledFutureActivitiesInRange
      parameters:
      - name: daysInTheFuture
        in: query
        required: false
        schema:
          type: integer
          format: int32
          default: 31
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/ActivitySummaryDto'
      security:
      - JWT_AUTH: []
  /courses/{courseId}/activities/{activityId}:
    delete:
      tags:
      - course-controller
      operationId: deleteActivity
      parameters:
      - name: courseId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      - name: activityId
        in: path
        required: true
        schema:
          type: integer
          format: int64
      responses:
        "200":
          description: OK
          content:
            '*/*':
              schema:
                $ref: '#/components/schemas/CourseDetailsDto'
      security:
      - JWT_AUTH: []
components:
  schemas:
    CourseSummaryDto:
      required:
      - creationTime
      - description
      - isPasswordProtected
      - joinUUID
      - name
      - subject
      - teacher
      type: object
      properties:
        name:
          type: string
        description:
          type: string
        subject:
          type: string
        creationTime:
          type: string
          format: date-time
        teacher:
          $ref: '#/components/schemas/UserDetailsDto'
        isPasswordProtected:
          type: boolean
        joinUUID:
          type: string
    InstructionDto:
      required:
      - untrustedPossiblyDangerousHtml
      type: object
      properties:
        untrustedPossiblyDangerousHtml:
          type: string
    PolicyDto:
      required:
      - id
      - policyType
      - user
      - value
      type: object
      properties:
        id:
          type: integer
          format: int64
        policyType:
          type: string
          enum:
          - MAX_VCPU
          - MAX_RAM_GB
          - MAX_DISK_GB
          - MAX_BANDWIDTH_MBPS
          - MAX_STUDENTS
          - MAX_ACTIVITY_DURATION_MINUTES
          - MAX_PARALLEL_SANDBOXES
        user:
          $ref: '#/components/schemas/UserDetailsDto'
        value:
          type: integer
          format: int32
    ServiceModuleSummaryDto:
      required:
      - createdAt
      - creator
      - description
      - id
      - name
      - serviceName
      - studentInstruction
      - subject
      - teacherInstruction
      - usedInActivitiesCount
      type: object
      properties:
        id:
          type: integer
          format: int64
        name:
          type: string
        subject:
          type: string
        description:
          type: string
        serviceName:
          type: string
        teacherInstruction:
          $ref: '#/components/schemas/InstructionDto'
        studentInstruction:
          $ref: '#/components/schemas/InstructionDto'
        creator:
          $ref: '#/components/schemas/UserDetailsDto'
        createdAt:
          type: string
          format: date-time
        usedInActivitiesCount:
          type: integer
          format: int32
    UserAdminDetailsDto:
      required:
      - attendedCourses
      - createdAt
      - createdCourses
      - createdModules
      - email
      - id
      - name
      - roles
      - storageUsageBytes
      - surname
      - userPolicies
      type: object
      properties:
        id:
          type: integer
          format: int64
        name:
          type: string
        surname:
          type: string
        email:
          type: string
        roles:
          type: array
          items:
            type: string
            enum:
            - STUDENT
            - TEACHER
            - TECHNICAL_TEACHER
            - ADMIN
        createdAt:
          type: string
          format: date-time
        storageUsageBytes:
          type: integer
          format: int64
        attendedCourses:
          type: array
          items:
            $ref: '#/components/schemas/CourseSummaryDto'
        createdCourses:
          type: array
          items:
            $ref: '#/components/schemas/CourseSummaryDto'
        createdModules:
          type: array
          items:
            $ref: '#/components/schemas/ServiceModuleSummaryDto'
        userPolicies:
          type: array
          items:
            $ref: '#/components/schemas/PolicyDto'
    UserDetailsDto:
      required:
      - email
      - name
      - surname
      type: object
      properties:
        name:
          type: string
        surname:
          type: string
        email:
          type: string
    FinishServiceModuleCreationRequest:
      required:
      - echoFieldActions
      - finalDynamicFieldValues
      - repeatedInitialValues
      - reservationId
      type: object
      properties:
        reservationId:
          type: integer
          format: int64
        echoFieldActions:
          type: object
          additionalProperties:
            type: string
        repeatedInitialValues:
          type: object
          additionalProperties:
            type: string
        finalDynamicFieldValues:
          type: object
          additionalProperties:
            type: string
    DynamicFieldDto:
      required:
      - parameterDescription
      - value
      type: object
      properties:
        value:
          type: string
        parameterDescription:
          $ref: '#/components/schemas/ParameterDescription'
    ParameterDescription:
      required:
      - name
      - required
      - type
      type: object
      properties:
        name:
          type: string
        required:
          type: boolean
        type:
          type: string
          enum:
          - FILE
          - TEXT
        translatedLabel:
          type: object
          additionalProperties:
            type: string
        clientValidationHelpers:
          type: object
          additionalProperties:
            type: object
    ServiceModuleDetailsDto:
      required:
      - createdAt
      - creator
      - description
      - dynamicFields
      - id
      - isPublic
      - name
      - serviceModuleMdaDto
      - serviceName
      - studentInstruction
      - subject
      - teacherInstruction
      - usedInActivitiesCount
      type: object
      properties:
        id:
          type: integer
          format: int64
        name:
          type: string
        subject:
          type: string
        description:
          type: string
        serviceName:
          type: string
        teacherInstruction:
          $ref: '#/components/schemas/InstructionDto'
        studentInstruction:
          $ref: '#/components/schemas/InstructionDto'
        creator:
          $ref: '#/components/schemas/UserDetailsDto'
        createdAt:
          type: string
          format: date-time
        usedInActivitiesCount:
          type: integer
          format: int32
        isPublic:
          type: boolean
        dynamicFields:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/DynamicFieldDto'
        serviceModuleMdaDto:
          $ref: '#/components/schemas/ServiceModuleMdaDto'
    ServiceModuleMdaDto:
      required:
      - baseBandwidthMbps
      - baseDiskGB
      - baseRamGB
      - baseVcpu
      - isIsolated
      type: object
      properties:
        isIsolated:
          type: boolean
        baseVcpu:
          type: integer
          format: int32
        baseRamGB:
          type: integer
          format: int32
        baseDiskGB:
          type: integer
          format: int32
        baseBandwidthMbps:
          type: integer
          format: int32
        sharedServiceModuleMdaDto:
          $ref: '#/components/schemas/SharedServiceModuleMdaDto'
    SharedServiceModuleMdaDto:
      required:
      - usersPerAdditionalBandwidthGbps
      - usersPerAdditionalCore
      - usersPerAdditionalDiskGb
      - usersPerAdditionalRamGb
      type: object
      properties:
        usersPerAdditionalCore:
          type: integer
          format: int32
        usersPerAdditionalRamGb:
          type: integer
          format: int32
        usersPerAdditionalDiskGb:
          type: integer
          format: int32
        usersPerAdditionalBandwidthGbps:
          type: integer
          format: int32
    ReserveServiceModuleRequest:
      required:
      - description
      - dynamicProperties
      - isPublic
      - mdaData
      - name
      - serviceName
      - studentInstruction
      - subject
      - teacherInstruction
      type: object
      properties:
        name:
          type: string
        subject:
          type: string
        description:
          type: string
        teacherInstruction:
          $ref: '#/components/schemas/InstructionDto'
        studentInstruction:
          $ref: '#/components/schemas/InstructionDto'
        serviceName:
          type: string
        dynamicProperties:
          type: object
          additionalProperties:
            type: string
        isPublic:
          type: boolean
        mdaData:
          $ref: '#/components/schemas/ServiceModuleMdaDto'
    CreateActivityRequest:
      required:
      - description
      - endTime
      - instructionFromTeacher
      - name
      - selectedModules
      - startTime
      type: object
      properties:
        name:
          type: string
        description:
          type: string
        startTime:
          type: string
          format: date-time
        endTime:
          type: string
          format: date-time
        instructionFromTeacher:
          $ref: '#/components/schemas/InstructionDto'
        selectedModules:
          type: array
          items:
            $ref: '#/components/schemas/SelectedServiceModuleDto'
    SelectedServiceModuleDto:
      required:
      - linkConfirmationRequired
      - serviceModuleId
      type: object
      properties:
        serviceModuleId:
          type: integer
          format: int64
        linkConfirmationRequired:
          type: boolean
    ActivityDetailsDto:
      required:
      - activityModules
      - cancelled
      - description
      - endTime
      - id
      - instructionFromTeacher
      - name
      - publicFiles
      - startTime
      type: object
      properties:
        id:
          type: integer
          format: int64
        name:
          type: string
        description:
          type: string
        startTime:
          type: string
          format: date-time
        endTime:
          type: string
          format: date-time
        instructionFromTeacher:
          $ref: '#/components/schemas/InstructionDto'
        activityModules:
          type: array
          items:
            $ref: '#/components/schemas/ActivityModuleDetailsDto'
        publicFiles:
          type: array
          items:
            $ref: '#/components/schemas/FileDto'
        cancelled:
          type: boolean
    ActivityModuleDetailsDto:
      required:
      - connectionDetails
      - id
      - linkConfirmationRequired
      - linkConfirmed
      - serviceModule
      type: object
      properties:
        id:
          type: integer
          format: int64
        serviceModule:
          $ref: '#/components/schemas/ServiceModuleSummaryDto'
        connectionDetails:
          type: array
          items:
            $ref: '#/components/schemas/ServiceConnectionDetailsDto'
        linkConfirmationRequired:
          type: boolean
        linkConfirmed:
          type: boolean
    CourseDetailsDto:
      required:
      - activities
      - description
      - id
      - isPublic
      - joinUUID
      - lastActivityTime
      - name
      - students
      - subject
      - teacher
      type: object
      properties:
        id:
          type: integer
          format: int64
        name:
          type: string
        teacher:
          $ref: '#/components/schemas/UserDetailsDto'
        lastActivityTime:
          type: string
          format: date-time
        subject:
          type: string
        description:
          type: string
        students:
          type: array
          items:
            $ref: '#/components/schemas/ParticipantDetailsDto'
        activities:
          type: array
          items:
            $ref: '#/components/schemas/ActivityDetailsDto'
        joinUUID:
          type: string
        isPublic:
          type: boolean
        coursePassword:
          type: string
    FileDto:
      required:
      - createdAt
      - id
      - name
      - sizeBytes
      type: object
      properties:
        id:
          type: integer
          format: int64
        name:
          type: string
        sizeBytes:
          type: integer
          format: int64
        createdAt:
          type: string
          format: date-time
    ParticipantDetailsDto:
      required:
      - joinedAt
      - participant
      type: object
      properties:
        participant:
          $ref: '#/components/schemas/UserDetailsDto'
        joinedAt:
          type: string
          format: date-time
    ServiceConnectionDetailsDto:
      required:
      - connectionInstructions
      - url
      type: object
      properties:
        connectionInstructions:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/InstructionDto'
        url:
          type: string
    ModifyParticipantRequest:
      required:
      - email
      type: object
      properties:
        email:
          type: string
    JoinCourseRequest:
      required:
      - joinUUID
      type: object
      properties:
        joinUUID:
          type: string
        password:
          type: string
    ResetPasswordRequest:
      required:
      - email
      - password
      - token
      type: object
      properties:
        email:
          type: string
        token:
          type: string
        password:
          type: string
    InitFileUploadRequest:
      required:
      - filename
      - sizeBytes
      type: object
      properties:
        filename:
          type: string
        sizeBytes:
          type: integer
          format: int64
    StorageAccessRequest:
      required:
      - filePath
      - httpHeaders
      - httpMethod
      - provider
      - signedUrl
      - validTo
      type: object
      properties:
        provider:
          type: string
          enum:
          - gcloud
        filePath:
          type: string
        signedUrl:
          type: string
        validTo:
          type: string
          format: date-time
        httpMethod:
          type: string
        httpHeaders:
          type: object
          additionalProperties:
            type: string
    UploadAccessDto:
      required:
      - initFileUploadRequest
      - storageAccessRequest
      type: object
      properties:
        initFileUploadRequest:
          $ref: '#/components/schemas/InitFileUploadRequest'
        storageAccessRequest:
          $ref: '#/components/schemas/StorageAccessRequest'
    CreateVmRequest:
      required:
      - bandwidthMbps
      - descriptionHtml
      - imageDiskSizeGB
      - name
      - ramGB
      - vcpu
      type: object
      properties:
        name:
          type: string
        vcpu:
          type: integer
          format: int32
        ramGB:
          type: integer
          format: int32
        imageDiskSizeGB:
          type: integer
          format: int32
        bandwidthMbps:
          type: integer
          format: int32
        descriptionHtml:
          type: string
    VmDto:
      required:
      - bandwidthMbps
      - descriptionHtml
      - id
      - name
      - ramGB
      - vcpu
      type: object
      properties:
        id:
          type: integer
          format: int64
        name:
          type: string
        vcpu:
          type: integer
          format: int32
        ramGB:
          type: integer
          format: int32
        bandwidthMbps:
          type: integer
          format: int32
        descriptionHtml:
          type: string
    CreateUserRequest:
      required:
      - email
      - name
      - roles
      - surname
      type: object
      properties:
        name:
          type: string
        surname:
          type: string
        email:
          type: string
        roles:
          type: array
          items:
            type: string
            enum:
            - STUDENT
            - TEACHER
            - TECHNICAL_TEACHER
            - ADMIN
    RefreshTokenDto:
      required:
      - expiresIn
      - refreshToken
      - tokenId
      type: object
      properties:
        tokenId:
          type: integer
          format: int64
        expiresIn:
          type: integer
          format: int64
        refreshToken:
          type: string
    ActivitySummaryDto:
      required:
      - cancelled
      - courseId
      - courseName
      - endTime
      - id
      - name
      - startTime
      - teacher
      type: object
      properties:
        id:
          type: integer
          format: int64
        courseId:
          type: integer
          format: int64
        name:
          type: string
        courseName:
          type: string
        teacher:
          $ref: '#/components/schemas/UserDetailsDto'
        startTime:
          type: string
          format: date-time
        endTime:
          type: string
          format: date-time
        cancelled:
          type: boolean
    FavouriteFileDto:
      required:
      - activitySummaryDto
      - file
      type: object
      properties:
        file:
          $ref: '#/components/schemas/FileDto'
        activitySummaryDto:
          $ref: '#/components/schemas/ActivitySummaryDto'
    MeDto:
      required:
      - email
      - favouriteFiles
      - name
      - surname
      type: object
      properties:
        name:
          type: string
        surname:
          type: string
        email:
          type: string
        favouriteFiles:
          type: array
          items:
            $ref: '#/components/schemas/FavouriteFileDto'
    ServiceModuleReservationDto:
      required:
      - dynamicFieldAdditionalActions
      - reservationId
      type: object
      properties:
        reservationId:
          type: integer
          format: int64
        dynamicFieldAdditionalActions:
          type: object
          additionalProperties:
            type: object
    CreateSandboxEnvironmentRequest:
      required:
      - resultsValidForMinutes
      - studentCount
      - validForMinutes
      type: object
      properties:
        studentCount:
          type: integer
          format: int32
        validForMinutes:
          type: integer
          format: int32
        resultsValidForMinutes:
          type: integer
          format: int32
    SandboxUserDetailsDto:
      required:
      - email
      - password
      type: object
      properties:
        email:
          type: string
        password:
          type: string
    ServiceModuleSandboxDto:
      required:
      - courseDetailsDto
      - sandboxStudents
      - validTo
      type: object
      properties:
        courseDetailsDto:
          $ref: '#/components/schemas/CourseDetailsDto'
        sandboxStudents:
          type: array
          items:
            $ref: '#/components/schemas/SandboxUserDetailsDto'
        validTo:
          type: string
          format: date-time
    CreatePolicyRequest:
      required:
      - policyType
      - teacherId
      - value
      type: object
      properties:
        policyType:
          type: string
          enum:
          - MAX_VCPU
          - MAX_RAM_GB
          - MAX_DISK_GB
          - MAX_BANDWIDTH_MBPS
          - MAX_STUDENTS
          - MAX_ACTIVITY_DURATION_MINUTES
          - MAX_PARALLEL_SANDBOXES
        teacherId:
          type: integer
          format: int64
        value:
          type: integer
          format: int32
    CreateCourseRequest:
      required:
      - activities
      - description
      - expectedStudentCount
      - isPublic
      - name
      - subject
      type: object
      properties:
        name:
          type: string
        subject:
          type: string
        description:
          type: string
        expectedStudentCount:
          type: integer
          format: int32
        isPublic:
          type: boolean
        activities:
          type: array
          items:
            $ref: '#/components/schemas/CreateActivityRequest'
        password:
          type: string
    SendResetPasswordEmailRequest:
      required:
      - email
      type: object
      properties:
        email:
          type: string
    AuthDetailsDto:
      required:
      - accessToken
      - expiresIn
      - refreshTokenDto
      - roles
      type: object
      properties:
        accessToken:
          type: string
        expiresIn:
          type: integer
          format: int64
        refreshTokenDto:
          $ref: '#/components/schemas/RefreshTokenDto'
        roles:
          type: array
          items:
            type: string
            enum:
            - STUDENT
            - TEACHER
            - TECHNICAL_TEACHER
            - ADMIN
    LoginRequest:
      required:
      - email
      - password
      type: object
      properties:
        email:
          type: string
        password:
          type: string
    EdtiVmRequest:
      type: object
      properties:
        name:
          type: string
        vCpu:
          type: integer
          format: int32
        ramGB:
          type: integer
          format: int32
        bandwidthMbps:
          type: integer
          format: int32
    EditPolicyRequest:
      type: object
      properties:
        policyType:
          type: string
          enum:
          - MAX_VCPU
          - MAX_RAM_GB
          - MAX_DISK_GB
          - MAX_BANDWIDTH_MBPS
          - MAX_STUDENTS
          - MAX_ACTIVITY_DURATION_MINUTES
          - MAX_PARALLEL_SANDBOXES
        teacherId:
          type: integer
          format: int64
        value:
          type: integer
          format: int32
    EditCourseRequest:
      type: object
      properties:
        name:
          type: string
        subject:
          type: string
        description:
          type: string
        password:
          type: string
        isPublic:
          type: boolean
    UserAdminSummaryDto:
      required:
      - createdAt
      - email
      - id
      - name
      - roles
      - surname
      type: object
      properties:
        id:
          type: integer
          format: int64
        name:
          type: string
        surname:
          type: string
        email:
          type: string
        roles:
          type: array
          items:
            type: string
            enum:
            - STUDENT
            - TEACHER
            - TECHNICAL_TEACHER
            - ADMIN
        createdAt:
          type: string
          format: date-time
    ServiceModuleUsageDto:
      required:
      - activityName
      - addedAt
      - courseCreator
      - courseId
      - courseName
      type: object
      properties:
        courseCreator:
          $ref: '#/components/schemas/UserDetailsDto'
        courseId:
          type: integer
          format: int64
        courseName:
          type: string
        activityName:
          type: string
        addedAt:
          type: string
          format: date-time
    ServiceConfig:
      required:
      - configurationInstructionHtml
      - displayName
      - isolationModes
      - parameterDescriptions
      - provisioningSeconds
      - serviceName
      - usageInstructionHtml
      type: object
      properties:
        displayName:
          type: string
        serviceName:
          type: string
        parameterDescriptions:
          type: array
          items:
            $ref: '#/components/schemas/ParameterDescription'
        isolationModes:
          uniqueItems: true
          type: array
          items:
            type: string
            enum:
            - SHARED
            - ISOLATED
        configurationInstructionHtml:
          type: object
          additionalProperties:
            type: string
        usageInstructionHtml:
          type: object
          additionalProperties:
            type: string
        provisioningSeconds:
          type: integer
          format: int32
    ActivityFilesDto:
      required:
      - activityModuleIdToUserFiles
      type: object
      properties:
        activityModuleIdToUserFiles:
          type: object
          additionalProperties:
            type: array
            items:
              $ref: '#/components/schemas/FileDto'
    TeacherActivityFilesDto:
      required:
      - userIdToUserDetails
      - userIdToUserFiles
      type: object
      properties:
        userIdToUserFiles:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/ActivityFilesDto'
        userIdToUserDetails:
          type: object
          additionalProperties:
            $ref: '#/components/schemas/UserDetailsDto'
  securitySchemes:
    JWT_AUTH:
      type: http
      scheme: bearer
      bearerFormat: JWT

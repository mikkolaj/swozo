version: '3.7'

services:
  swozo-orchestrator:
    container_name: swozo-orchestrator
    image: swozo/orchestrator:latest
    ports:
      - "8080:8080"
    environment:
      GCP_PROJECT: <placeholder>
      GCP_ZONE: <placeholder>
      GCP_SSH_USER: <placeholder>
    volumes:
      - type: bind
        source: ./src/main/resources/provisioning/administration
        target: /provisioning/administration
      - type: bind
        source: ./src/main/resources/provisioning/software
        target: /provisioning/software
      - type: bind
        source: ./auth
        target: /auth
      - type: bind
        source: ./build/libs/orchestrator.jar
        target: /app/orchestrator.jar
